<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Art√≠culos | GeoVida üìù</title>
  <link rel="stylesheet" href="style.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins&display=swap" rel="stylesheet">
</head>
<body>

  <header class="header">
    <div class="menu container">
      <a href="index.html" class="logo">GeoVida</a>
      <input type="checkbox" id="menu"/>
      <label for="menu">
        <img src="imagenes/menu.png" class="menu-icono" alt="menu"/>
      </label>
      <nav class="navbar">
        <ul>
          <li><a href="index.html">Inicio</a></li>
          <li><a href="estadisticas.html">Estad√≠sticas</a></li>
          <li><a href="mapa.html">Mapa</a></li>
          <li><a href="articulos.html" class="active">Art√≠culos</a></li>
          <li><a href="sobre-nosotros.html">Sobre Nosotros</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <section class="portadaart">
    <div class="portada-content">
      <h2>Noticias sobre animales en peligro</h2>
      <p>Inf√≥rmate y act√∫a: conoce las especies que m√°s lo necesitan.</p>
    </div>
  </section>

  <main class="container">
    <section class="articles-header">
      <div class="search-container">
        <input type="text" id="searchInput" placeholder="Buscar por palabra, nombre o tema...">
        <button id="searchButton">Buscar</button>
      </div>
    </section>

    <section id="articlesList" class="articles-list">
      <!-- Los art√≠culos se insertar√°n aqu√≠ din√°micamente -->
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 GeoVida - Todos los derechos reservados</p>
    </div>
  </footer>

  <!-- Cargar art√≠culos desde el archivo JS (con control de cach√©) -->
  <script>
    const script = document.createElement("script");
    script.src = "js/articulos.js?t=" + new Date().getTime(); // fuerza nueva versi√≥n
    script.onload = () => {
      console.log("‚úÖ articulos.js cargado");
      mostrarArticulos();
    };
    document.head.appendChild(script);
  </script>

  <!-- Mostrar art√≠culos en la secci√≥n respetando el dise√±o original -->
  <script>
    function mostrarArticulos() {
      if (typeof articulos === "undefined") {
        console.error("‚ùå La variable 'articulos' no est√° definida.");
        return;
      }

      const contenedor = document.getElementById("articlesList");
      contenedor.innerHTML = "";

      for (const articulo of articulos) {
        if (!articulo.titulo.startsWith("√öltima actualizaci√≥n")) {
          const card = document.createElement("div");
          card.classList.add("article-card");
          card.innerHTML = `
            <img src="${articulo.imagen}" alt="${articulo.titulo}">
            <div class="article-content">
              <h3>${articulo.titulo}</h3>
              <p class="fecha">${articulo.fecha}</p>
              <a href="${articulo.url}" target="_blank" class="leer-mas">Leer m√°s</a>
            </div>
          `;
          contenedor.appendChild(card);
        }
      }

      // Opci√≥n: agregar hora de carga
      const hora = new Date();
      const p = document.createElement("p");
      p.style.fontStyle = "italic";
      p.style.marginTop = "20px";
      p.textContent = "√öltima carga: " + hora.toLocaleTimeString();
      contenedor.appendChild(p);
    }
  </script>

</body>
</html>
